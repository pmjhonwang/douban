const spider = require('./spider')
const moviedb = require('./db/moviedb')
var mongo_host = 'mongodb://172.17.0.2:27017/douban';


async function worker(tags, proxys) {
  const useProxy = true
  const db = await new moviedb(mongo_host).init()
  const sp = new spider(db, tags, true, proxys)
  sp.run()
}

function main() {
  const proxys = ["1.82.216.134:80", "101.53.101.172:9999", "111.155.124.77:8123", "113.200.156.53:9999", "113.200.159.155:9999", "113.89.180.249:9000", "114.230.216.14:28624", "114.55.237.39:3128", "115.231.175.68:8081", "115.29.2.139:80", "116.17.138.215:9797", "116.23.137.12:9999", "118.144.150.254:3128", "118.178.124.33:3128", "118.178.135.168:3128", "118.178.184.48:8080", "119.29.126.115:80", "119.36.77.130:9999", "120.26.167.174:3128", "120.26.168.190:3128", "120.26.168.194:3128", "120.26.168.236:3128", "120.26.168.80:3128", "120.36.213.133:40191", "121.199.7.34:3128", "121.199.9.36:3128", "121.204.165.189:8118", "121.32.251.43:80", "121.32.251.44:80", "121.32.251.45:80", "121.40.42.35:9999", "122.224.197.149:8080", "122.67.24.136:8080", "122.72.32.75:80", "123.138.73.122:9999", "123.139.56.234:9999", "123.206.219.186:3128", "123.207.143.51:8080", "123.234.219.133:8080", "123.7.115.141:9797", "123.7.38.31:9999", "124.234.157.196:80", "124.235.182.130:80", "124.88.67.13:80", "124.88.67.22:80", "124.88.67.23:80", "124.88.67.24:80", "124.88.67.34:80", "124.88.67.39:80", "124.88.67.54:80", "124.89.35.206:9999", "125.113.253.217:30024", "125.40.24.60:9797", "139.129.94.97:3128", "139.196.237.154:3128", "14.29.89.66:3128", "180.97.235.30:80", "183.45.88.15:9797", "202.202.90.20:8080", "211.81.31.18:8081", "218.198.88.206:8998", "218.56.132.155:8080", "218.56.132.156:8080", "218.66.147.43:29251", "219.145.244.250:3128", "220.249.185.178:9999", "221.1.201.142:9999", "221.204.101.129:9797", "221.204.103.195:9797", "221.204.103.26:9797", "221.204.11.8:8080", "221.216.94.77:808", "221.221.222.68:9999", "222.186.161.215:3128", "222.186.45.115:62222", "222.186.45.19:63334", "222.187.227.40:10000", "27.159.124.84:8118", "27.205.93.33:9999", "27.46.74.38:9999", "27.46.74.39:9999", "42.184.125.89:8118", "58.215.162.12:3128", "58.243.0.162:9999", "58.59.68.91:9797", "59.40.71.210:9797", "60.191.106.109:9999", "61.143.60.226:3128", "61.152.81.193:9100", "61.155.184.47:8081", "61.163.39.70:9999", "61.191.41.130:80", "61.232.254.39:3128"]
  const tags = ["美国", "爱情", "喜剧", "剧情", "动画", "科幻", "日本", "动作", "经典", "香港", "悬疑", "青春", "人性", "美国电影", "犯罪", "电影", "美剧", "惊悚", "英国", "中国", "文艺", "日剧", "温情", "韩国", "搞笑", "法国", "电视剧", "纪录片", "成长", "励志", "香港电影", "恐怖", "战争", "奇幻", "人生", "短片", "黑色幽默", "日本动画", "大陆", "日本电影", "魔幻", "台湾", "2016", "中国电影", "动漫", "2015", "亲情", "心理", "传记", "2013", "冒险", "2014", "看过的电视剧", "2011", "情色", "韩剧", "英剧", "2012", "历史", "感人", "暴力", "2010", "家庭", "韩国电影", "音乐", "动画短片", "国产电视剧", "2009", "TVB", "中国大陆", "法国电影", "灾难", "童年", "浪漫", "感动", "周星驰", "BBC", "宫崎骏", "女性", "黑帮", "古装", "武侠", "漫画改编", "德国", "3D", "推理", "意大利", "二战", "同志", "小说改编", "校园", "同性", "国产", "2008", "政治", "动画片", "史诗", "烂片", "台湾电影", "英国电影", "童话", "2007", "警匪", "血腥", "印度", "港剧", "内地", "特工", "宗教", "吸血鬼", "泰国", "迪斯尼", "西班牙", "王家卫", "2006", "儿童", "国产动画", "友情", "欧美", "剧场版", "动物", "梦工厂", "JohnnyDepp", "梦想", "梁朝伟", "2004", "黑色", "超级英雄", "歌舞", "2005", "美食", "童年回忆", "信念", "名著改编", "伦理", "奥斯卡", "2000s", "社会", "尼古拉斯·凯奇", "2003", "斯皮尔伯格", "アニメ", "自由", "欧洲", "生活", "张艺谋", "成龙", "刘德华", "恶搞", "岩井俊二", "华语标签", "丧尸", "Marvel", "张国荣", "2001", "音乐剧", "冯小刚", "HBO", "加拿大", "黑白", "pixar", "公路", "间谍", "杜琪峰", "真实事件改编", "2002", "李连杰", "真人秀", "西部", "英语标签", "台剧", "cult", "治愈系", "徐克", "国产电影", "2017", "综艺", "国产剧", "澳大利亚", "迪士尼", "葛优", "1994", "1990s", "二次元", "我看过的电影", "漫威", "姜文", "自然", "哈利波特", "俄罗斯", "卡通", "日影", "2000", "僵尸", "1997", "柯南", "北野武", "灵异", "意大利电影", "2010s", "连续剧", "1999", "日语标签", "古天乐", "美国动画", "独立电影", "欧美电影", "李安", "TimBurton", "治愈", "恐怖片", "德国电影", "震撼", "桂纶镁", "1998", "温暖", "Anime", "周迅", "周润发", "动画电影", "教育", "泰国电影", "日本动漫", "伊朗", "日剧SP", "摇滚", "TV", "Disney", "法律", "日劇", "les", "旅行", "金城武", "1995", "瑞典", "爱尔兰", "情感", "吉卜力", "默片", "时尚"]

  worker(tags, proxys)
}

main()